<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="container">
        <button id = 'Rock'> Rock</button>
        <button id = 'Paper'>Paper </button>
        <button id = 'Scissors'> Scissors </button>
    </div>

    <div id="results"> 
        
    </div>
    <script>
        // buttons is a node list. It looks and acts much like an array.
        const buttons = document.querySelectorAll('button');
        let you = 0;
        let computer = 0;
        // we use the .forEach method to iterate through each button
        buttons.forEach((button) => {

        // and for each one we add a 'click' listener
        button.addEventListener('click', () => {
            comp = getComputerChoice()
            if (you == 5 ){
                results.textContent= "You Win!! Game Over"

            }

            else if (comp == 5){
                results.textContent = "You lose!! Game Over"
            }

            else {
                playRound(button.id, comp);
            }
        });
        });
        // const results = document.querySelectorAll('#results');

        function getComputerChoice() {
            const choice = ["ROCK", "PAPER", "SCISSORS"]
            x = Math.floor(Math.random() * 3);
            return choice[x]
        }
        

        function playRound(playerSelection, computerSelection) {
            playerSelection = playerSelection.toUpperCase()
            const results = document.querySelector('#results');
            if (playerSelection == "ROCK" && computerSelection == "PAPER") {
                computer +=1
                results.textContent= "You lose, Paper beats Rock." + "\n" + "you: " + you.toString() + " computer: " + computer.toString()
            }

            else if (playerSelection == "SCISSORS" && computerSelection == "PAPER") {
                you += 1
                results.textContent = "You Win, Scissors beats Paper." + "\n" + "you: " + you.toString() + " computer: " + computer.toString()   
            }

            else if (playerSelection == "SCISSORS" && computerSelection == "ROCK") {
                computer += 1
                results.textContent = "You lose, Rock beats Scissors." + "\n" + "you: " + you.toString() + " computer: " + computer.toString()
            }

            else if (playerSelection == "PAPER" && computerSelection == "ROCK") {
                you += 1
                results.textContent = "You Win, Paper beats Rock." + "\n" + "you: " + you.toString() + " computer: " + computer.toString()
            }

            else if (playerSelection == "ROCK" && computerSelection == "SCISSORS") {
                you += 1
                results.textContent = "You Win, Rock beats Scissors." + "\n" + "you: " + you.toString() + " computer: " + computer.toString()
            }

            else if (playerSelection == "PAPER" && computerSelection == "SCISSORS") {
                computer += 1
                results.textContent = "You lose, Scissors beats Paper." + "\n" + "you: " + you.toString() + " computer: " + computer.toString()    
            }

            else if (playerSelection == computerSelection) {
                results.textContent = "You Tie!!!"  + "\n" + "you: " + you.toString() + " computer: " + computer.toString()
            }
            
            else {
                results.textContent("There is an error.")
            }
        }


/*     function game() {
        wins = 0
        loses = 0
        ties = 0
        for (let i=0; i<5; i++) {
            const computerSelection = getComputerChoice();
            const playerSelection = prompt("Rock paper Scissors, SHOOT!!! ");
            res = compare(playerSelection, computerSelection)
            console.log(res);

            if (res == "You Win, Rock beats Scissors.") {
                wins += 1
            }

            else if (res == "You lose, Scissors beats Paper.") {
                loses += 1
            }

            else {
                ties += 1
            }

        }
        
        if (wins > loses) {
            console.log("You win this game!!!")
        }

        else if (wins < loses) {
            console.log("You lose this game!!!")
        }

        else if (wins == loses) {
            console.log("You tied for this game!!!")
        }

        else {
            console.log("Error.")
        }
    }
 */
    // game()

    </script>
</body>

</html>